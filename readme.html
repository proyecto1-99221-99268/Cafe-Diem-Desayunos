<!DOCTYPE html>
<html lang="es">
<head>

	<title>Cafe Diem - leeme</title>
	<link rel="stylesheet" type="text/css" href="css/readme.css"> 
</head>
<body>
<h1>
Ingeniería de Aplicaciones Web<br>
Proyecto 1
</h1>
<h3>
Comisión 703:
	Andrés Martínez, 99268
	Marina Razuc, 99221
</h3>
<p>
Se decidió desarrollar una página que le permita al usuario personalizar un desayuno.
Al acceder a la página, el usuario podrá encontrarse un panel vacío, en donde se mostrarán los productos que irán conformando el desayuno. También podrá apreciarse otro panel con las siguientes categorías: Bebidas, Frutas, Dulces, Panadería y Confitería, Taza, y Bandeja, y los productos disponibles por cada una de ellas.
</p>
<p>
Al principio la intención era que el usuario pueda seleccionar distintas cantidades de cada producto disponible, pero por recomendación de la cátedra y para no aumentar la complejidad de la página, se decidió permitir como máximo un producto de los disponibles en el desayuno.
</p>

<p>
De cada categoría el usuario podrá elegir todas las opciones disponibles, excepto en las categorías Taza y Bandeja, donde sólo podrá elegirse un producto como máximo. 
</p>
<p>
Por defecto, la página muestra el desayuno personalizado y vacío, pero el usuario tendrá la posibilidad de cargar desayunos predefinidos, en este caso, el Clásico, el Especial, y el Matero. Al seleccionar alguno de estos, en el panel vacío aparecerán todos los productos asociados a ese desayuno. Si el usuario quiere agregar, quitar o cambiar algún producto perteneciente al mismo, la página cambiará directamente a la opción de desayuno personalizado, y se reflejarán los cambios realizados por el usuario en el panel donde se representa el desayuno.
</p>
<p>
Mientras el usuario elige o descarta productos del desayuno, también podrá observarse el cambio en el precio total del mismo.
El usuario puede guardar la configuración de un desayuno personalizado (botón azul), y al revisitar la página en otra ocasión, puede recuperar dicha configuración (botón verde). La configuración guardará las posiciones de las imagenes originales, no las que el usuario elija. El usuario además podrá borrar todo el panel conteniendo el desayuno si lo desea con un sólo click (botón rojo), y también podrá simular la opción de comprar el desayuno (botón violeta), mostrando una lista con cada producto elegido y su precio.
</p>
<p>
La página tiene dos apariencias o estilos distintos disponibles, los cuales son persistentes, es decir, si el usuario cierra la página con el estilo A presente, al volver a cargar la página, tendrá el estilo A. Los mismos pueden cambiarse clickeando el botón de colores situado en la esquina inferior derecha de la página.
</p>
<p>
El panel conteniendo los productos del desayuno en cuestión fue implementado con un canvas, específicamente, el Kinetic canvas, que resultó ser el de más utilidad al momento de trabajar. Se crea un escenario (Stage) cuyo contenido es el panel, y se crea un canvas  de ancho y alto del panel. Para "pintar" el canvas se utilizó un esquema de capas, es decir, una capa por imagen, para facilitar el mostrar o borrar una imagen según el producto asociado se elige o se deselecciona. Se decidió permitir al usuario cambiar la posición de los productos seleccionados (o los predefinidos) dentro del canvas. La capa perteneciente a la imagen de la bandeja se lleva hacia atrás, para que no tape a ninguno de los demás productos. Al trabajar con capas también se facilita la acción de borrado, es decir, cuando el usuario decide borrar todos los productos del desayuno actual, se eliminan todas las capas del canvas. Otra característica del canvas es que se redibuja cuando el tamaño de la ventana cambia. Esto permite que si el usuario cambia de tamaño el dibujo se podrá seguir viendo correctamente. El tamaño de cada imagen y su posición son relativos, no absolutos. Dependen del tamaño del canvas.
</p>
<p>
Las categorías de los diferentes productos del desayuno y dichos productos fueron almacenados como esquemas de JSON. Además están almacenadas las propiedades de cada producto, como su nombre, su categoría, su precio, la ruta de su imagen y otras características necesarias al momento de pintar la imagen en el canvas. Esto facilita el agregado, modificación de las características o borrado de cada producto.
</p>
<p>
Para implementar el panel de configuración del desayuno se utilizó una tabla, la cual se crea dinámicamente, teniendo en cuenta las categorías y productos presentes en el esquema JSON. En un primer momento se había implementado un "drag and drop" para que el usuario pueda arrastar los productos desde la tabla hacia el canvas, pero se permitía poner más de una unidad por producto en el desayuno, y eso no era lo buscado. En otra solución, una vez puesto el producto en el canvas, desaparecía de la tabla, y no quedaba muy estético. Entonces se decidió utlizar celdas con checkboxes, excepto en las categorías Taza y Bandeja, donde se utilizaron celdas con radio buttons, ya que, como se mencionó anteriormente, se puede seleccionar como máximo un producto de esas categorías.
</p>
<p>
Para guardar el estilo elegido por el usuario se utiliza LocalStorage. También se utilizó para guardar la configuración del desayuno armado, si es que el usuario lo requiere.
</p>
<p>
Se utilizaron librerías de bootstrap, jquery, javascript
Bootstrap: bootstrap.min.css, bootstrap.min.js, facebox-bootstrap.js, 
JQuery: jquery-ui.css, jquery.min.js, jquery-ui.js, 
Javascript: kinetic-v5.1.0.min.js.
También las siguientes fuentes:
Grand Hotel, Junction y Smiley.
</p>
<p>

Bugs conocidos:
Se notó que la carga del canvas presenta algunos problemas cuando se abre la ventana de inspección. A veces sucede que al abrir dicha ventana y seguir modificando el desayuno, los cambios se reflejan con cierta demora, incluso hay casos en los que es necesario seguir clickeando otros productos para que los cambios se vean.
Otro bug es que en la tabla de categorías, en uno de los estilos, cuando se elige una opción se queda pintada de azul, lo cual no debería suceder. Vuelve a su color cuando se realiza un click. 
</p>

</body>
</html>